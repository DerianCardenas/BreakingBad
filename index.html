<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Breaking Bad</title>
    <link rel ="stylesheet" href="css/style.css" type="text/css">
</head>
<body>
    <nav>
        <img src="img/logo.png"><span class="logo">Breaking Bad Quotes</span>
    </nav>
    <div class="center">
        <div class="quotes" id="texto">
            Click the button below this area !
        </div>
        <input type="button" id="search"value="Next">
    </div>
    <script>
        var id=0;
        document.getElementById('search').onclick = () =>{
        var texto =document.getElementById('texto');
        texto.innerHTML="";
        if(id%3==0)
            texto.style.borderStyle='dotted';
        else if(id%2==0)
            texto.style.borderStyle='double'
        else
            texto.style.borderStyle='solid'
        texto.style.borderWidth='5px';
        texto.style.transform='scale(1.1,1.1)' 
        texto.className = "spinner";
        var url = "https://www.breakingbadapi.com/api/quotes";
        fetch(url)
            .then(response => response.json())
            .then(data => mostrarData(data))
            .catch(error => console.log(error))
        const mostrarData = (data) => {            
            let frase='';
            texto.innerHTML="";
            console.log(id);
            if(id==69)
            id=0;
            frase+="\""+data[id].quote+"\"";
            frase+="<br> -"+data[id].author;
            console.log('Taking a break...');
                sleep(2000);
                console.log('Two second later');
            texto.className = "quotes";
            sleep(1000);
            texto.innerHTML=frase;
            texto.style.transform='scale(1,1)' 
            id++;
        }
        function sleep(milliseconds) {
        var start = new Date().getTime();
            for (var i = 0; i < 1e7; i++) {
                if ((new Date().getTime() - start) > milliseconds) {
                break;
                }
            }
        }


    
}
    </script>
</body>
</html>
